<!DOCTYPE html>
<html lang="en">

<head>
	<% include partials/template_head.ejs %>
		<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
		<META HTTP-EQUIV="EXPIRES" CONTENT="0">
		<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
		<link rel='stylesheet' href='/css/view_style/custodian_cust_web_style.css' />
</head>

<body>

		<% include partials/template_body.ejs %>
        <% include partials/template_nav_header.ejs %>
    
        <% if(locals.show_popup){ %>
            <% var popup = locals.popup; %>
            <% include partials/template_popup.ejs %>
		<% } %>
		
		<div class="container ">
			<div class="row justify-content-center">
				<div class="col-lg-6">
					<div class="card verify-card">

						<div class="card-header verify-card-header">
							<% if(type==="reset_url") { %>
								<p class="card-text">
									Please enter your verify code and password. Password must contain uppercase letter, one number, and at least 8 characters long.
								</p>
							<% } else { %>
								<p class="card-text">
									Please enter your password. Password must contain uppercase letter, one number, and at least 8 characters long.
								</p>
							<% } %>
							<hr class="verify-card-divider" />
						</div>

						<div class="card-body verify-card-body">
							<form autocomplete="off" action="<%- requrl%>" method="post">

								<input type="text" class="form-control" id="VerifyCode" name="VerifyCode" value="<%- verifycode%>" hidden>
								<input type="text" class="form-control" id="Type" name="Type" value="<%- type%>" hidden>

								<div class="form-group">
									<label class="label" for="Password">Password:</label>
									<input 	type="password" 
											class="form-control" 
											id="Password" 
											name="Password" 
											required 
											pattern="[A-Z]{1}[A-Za-z0-9]{7,30}" 
											maxlength='30' 
											title='Password must contain uppercase letter, one number, and at least 8 characters long.' 
											onchange="$('#ConfirmPassword').attr('pattern',$(this).val())">
									</input>
								</div>

								<div class="form-group">
									<label class="label" for="ConfirmPassword">Confirm password:</label>
									<input 	type="password" 
											class="form-control" 
											id="ConfirmPassword" 
											name="ConfirmPassword" 
											required 
											title='Password should be the same'>
									</input>
								</div>

								<div class="form-group">
								<% if(type==="reset_url") { %>
									<button type="submit" class="btn block-btn verify-btn">Reset password</button>
								<% } else { %>
									<button type="submit" class="btn block-btn verify-btn">Initial password</button>
								<% } %>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>

		<% include partials/template_footer.ejs %>

</body>

</html>